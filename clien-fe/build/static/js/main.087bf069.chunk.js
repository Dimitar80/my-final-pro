(this["webpackJsonpclien-fe"]=this["webpackJsonpclien-fe"]||[]).push([[0],{19:function(e,t,a){e.exports=a.p+"static/media/DPPHOTO.579f77b4.jpg"},33:function(e,t,a){},38:function(e,t,a){e.exports=a(76)},43:function(e,t,a){},44:function(e,t,a){},50:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),s=a(34),r=a.n(s),o=a(7),c=a(15),i=a(2),u=a(3),d=a(5),m=a(4),p=a(6),h=(a(43),a(9),a(44),a(19)),g=a.n(h),E=function(e){return l.a.createElement("div",{id:"so-dd-box"},l.a.createElement("div",{id:"so-text"},l.a.createElement("div",{id:"so-userS"},l.a.createElement("img",{src:g.a,alt:"profileimg"}),l.a.createElement("div",{id:"so-userInfo"},l.a.createElement("p",null,l.a.createElement("span",{style:{fontWeight:"550",fontSize:"18px",marginTop:5,padding:0}},localStorage.getItem("firstName")+" "+localStorage.getItem("lastName"))),l.a.createElement("p",null,localStorage.getItem("email"))),l.a.createElement(o.b,{to:"/edituser/"+localStorage.getItem("_id"),style:{textDecoration:"none",display:"flex",alignItems:"center",margin:"16px auto ",width:"240px"}},l.a.createElement("button",{id:"edUser"},"Manage your Account settings")))),l.a.createElement("div",{id:"signout-btns"},l.a.createElement("button",{id:"so-signout",onClick:function(){localStorage.clear(),e.sO()}},"SIGN OUT")))},f=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).showProducts=function(){a.setState({toggle:!1})},a.showExpenses=function(){a.setState({toggle:!0})},a.signOut=function(){a.setState({signOut:!a.state.signOut})},a.closeBt=function(){console.log("Function called"),a.setState({signOut:!1})},a.state={toggle:a.props.toggle,signOut:!1,uff:a.props.tes,redirect:!1,delShow:!1},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,localStorage.getItem("jwt")?null:l.a.createElement(c.a,{to:"/"}),l.a.createElement("div",{id:"header"},l.a.createElement("nav",{id:"mainnav"},l.a.createElement(o.b,{to:"/products"},l.a.createElement("button",{onClick:this.showProducts,className:this.state.toggle?"navbar-button":"navbar-button active"},"PRODUCTS")),l.a.createElement(o.b,{to:"/expenses"},l.a.createElement("button",{onClick:this.showExpenses,className:this.state.toggle?"navbar-button active":"navbar-button"},"EXPENSES"))),l.a.createElement("div",{id:"user",className:"dropdown"},l.a.createElement("img",{src:g.a,alt:"profileimg"}),l.a.createElement("h3",{id:"touch",className:this.state.signOut?"user-cl active-user-cl":"user-cl",onClick:this.signOut},localStorage.getItem("firstName")+" "+localStorage.getItem("lastName")),l.a.createElement("div",{className:"dropdown-content"},this.state.signOut?l.a.createElement(E,{clBtn:this.closeBt,sO:this.signOut}):null))))}}]),t}(l.a.Component),b=a(13),v=(a(50),a(1)),y=a.n(v),N=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(d.a)(this,Object(m.a)(t).call(this))).usersList=function(){y.a.get("/api/v1/auth/userslist").then((function(t){e.setState({userlist:t.data},(function(){console.log(e.state.userlist)}))})).catch((function(e){console.log(e)}))},e.saveInputValue=function(t){e.setState(Object(b.a)({},t.target.id,t.target.value))},e.logIn=function(){for(var t=0;t<e.state.userlist.length;t++)e.state.userlist[t].email!==e.state.email&&e.setState({error:"Your e-mail is incorrect. Try again !",exsUserData:null});""===e.state.email||""===e.state.password||null===e.state.email||null===e.state.password?(e.setState({exsUserData:"Both fields must be filled out to Sign In!",error:null}),console.log(e.state.exsUserData)):""!==e.state.email&&""!==e.state.password&&y.a.post("/api/v1/auth/login",{email:e.state.email,password:e.state.password}).then((function(t){localStorage.setItem("jwt",t.data.jwt),localStorage.setItem("email",t.data.email),localStorage.setItem("firstName",t.data.first_name),localStorage.setItem("lastName",t.data.last_name),localStorage.setItem("_id",t.data.id),e.setState({redirect:!0})})).catch((function(t){console.log(t),e.setState({error:"Your e-mail/password is incorrect. Try again !",exsUserData:null})}))},e.toggleShow=function(t){t.preventDefault(),e.setState({hidden:!e.state.hidden})},e.state={email:"",password:"",hidden:!0,redirect:!1,error:null,datite:null,exsUserData:null,userlist:[],extUserEmails:[]},e}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){console.log("Table data did mount"),this.usersList()}},{key:"render",value:function(){return this.state.redirect?l.a.createElement(c.a,{to:"/products"}):l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{id:"prologin"},l.a.createElement("div",{className:"box-container"},l.a.createElement("div",null,l.a.createElement("div",{className:"input-icons"},l.a.createElement("p",{className:"input-container"},l.a.createElement("label",{className:"text-label"},"E-mail"),l.a.createElement("input",{type:"text",className:"text-input",id:"email",onChange:this.saveInputValue})),l.a.createElement("p",{className:"input-container"},l.a.createElement("label",{className:"text-label"},"Password"),l.a.createElement("input",{type:this.state.hidden?"password":"text",className:"text-input",id:"password",onChange:this.saveInputValue}),l.a.createElement("i",{className:this.state.hidden?"fas fa-eye-slash icon":"fas fa-eye icon",style:{color:"#c6c6c6"},onClick:this.toggleShow})),l.a.createElement("p",{id:"alert-msg"},this.state.exsUserData,this.state.error)),l.a.createElement("button",{className:"signin-button",onClick:this.logIn},"SIGN IN"))),l.a.createElement("div",{className:"additional-info"},l.a.createElement("p",null," ","Or if you don't have an account,",l.a.createElement(o.b,{to:"/register",activestyle:{color:"red"},style:{textDecoration:"none",color:"#8d8d8d",fontWeight:700}},"\xa0 Register.")))))}}]),t}(l.a.Component),S=(a(68),function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(d.a)(this,Object(m.a)(t).call(this))).saveUserData=function(t){e.setState(Object(b.a)({},t.target.id,t.target.value))},e.createUser=function(t){null===e.state.first_name||null===e.state.last_name||null===e.state.email||null===e.state.password||null===e.state.date_of_birth||null===e.state.telephone||null===e.state.country?(t.preventDefault(),alert("All fields must be filled out for Registration form to be created successfully!")):null!=e.state.first_name&&null!=e.state.last_name&&null!=e.state.email&&null!=e.state.password&&null!=e.state.date_of_birth&&null!=e.state.telephone&&null!=e.state.country&&(t.preventDefault(),y.a.post("/api/v1/auth/register",{first_name:e.state.first_name,last_name:e.state.last_name,email:e.state.email,password:e.state.password,date_of_birth:e.state.date_of_birth,telephone:e.state.telephone,country:e.state.country,_created:new Date}).then((function(t){console.log(t.data),y.a.post("/api/v1/auth/login",{email:e.state.email,password:e.state.password}).then((function(t){localStorage.setItem("jwt",t.data.jwt),localStorage.setItem("email",t.data.email),localStorage.setItem("firstName",t.data.first_name),localStorage.setItem("lastName",t.data.last_name),e.setState({redirect:!0}),alert("Registration form is successfully created")})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)})))},e.toggleShow=function(t){t.preventDefault(),e.setState({hidden:!e.state.hidden})},e.state={first_name:null,last_name:null,email:null,password:"",hidden:!0,date_of_birth:null,telephone:null,country:null,redirect:!1},e}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return this.state.redirect?l.a.createElement(c.a,{to:"/"}):l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{id:"register"},l.a.createElement("div",{className:"box-container",id:"regbox"},l.a.createElement("form",null,l.a.createElement("div",{className:"reg-input-icons"},l.a.createElement("p",{className:"input-container"},l.a.createElement("label",{className:"text-label"},"First Name"),l.a.createElement("input",{className:"text-input",type:"text",id:"first_name",onChange:this.saveUserData})),l.a.createElement("p",{className:"input-container"},l.a.createElement("label",{className:"text-label"},"Last Name"),l.a.createElement("input",{className:"text-input",type:"text",id:"last_name",onChange:this.saveUserData})),l.a.createElement("p",{className:"input-container"},l.a.createElement("label",{className:"text-label"},"E-mail"),l.a.createElement("input",{className:"text-input",type:"email",id:"email",onChange:this.saveUserData})),l.a.createElement("p",{className:"input-container"},l.a.createElement("label",{className:"text-label"},"Password"),l.a.createElement("input",{className:"text-input",type:this.state.hidden?"password":"text",id:"password",onChange:this.saveUserData}),l.a.createElement("i",{id:"reg",className:this.state.hidden?"fas fa-eye-slash reg-icon":"fas fa-eye reg-icon",style:{color:"#c6c6c6"},onClick:this.toggleShow})),l.a.createElement("p",{className:"input-container"},l.a.createElement("label",{className:"text-label"},"Date of Birth"),l.a.createElement("input",{className:"text-input",type:"date",max:"2999-12-31",id:"date_of_birth",onChange:this.saveUserData})),l.a.createElement("p",{className:"input-container"},l.a.createElement("label",{className:"text-label"},"Telephone"),l.a.createElement("input",{className:"text-input",type:"text",id:"telephone",onChange:this.saveUserData})),l.a.createElement("p",{className:"input-container"},l.a.createElement("label",{className:"text-label"},"Country"),l.a.createElement("input",{className:"text-input",type:"text",id:"country",onChange:this.saveUserData}))),l.a.createElement("button",{className:"primary-button",type:"submit",onClick:this.createUser},"REGISTER"))),l.a.createElement("div",{className:"additional-info"},l.a.createElement("p",null,"Or if you already have an account,",l.a.createElement(o.b,{to:"/",style:{textDecoration:"none",color:"#8d8d8d",fontWeight:700}},"\xa0 Sign in.")))))}}]),t}(l.a.Component)),x=(a(69),a(70),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).delDocsAndUser=function(){var e=a.props.userId,t=a.props.fullName;console.log(t),y.a.delete("/api/v1/products/user/"+e,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}}).then((function(n){console.log("Deleted: ",n),console.log(n.data),y.a.delete("/api/v1/auth/"+e,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}}).then((function(e){alert("User Account for ".concat(t," is successfully deleted")),a.setState({redirect:!0})})).catch((function(e){console.log(e+"Greska za Del User!")}))})).catch((function(e){console.log(e+" Greska za Del User files!")}))},a.state={toggle:!0,rowIdToDelete:null,redirect:!1},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){if(this.state.redirect)return l.a.createElement(c.a,{to:"/register"});var e=this.props.fullName;return console.log(e),l.a.createElement("div",{id:"du-back-screen"},l.a.createElement("div",{id:"user-delbox"},l.a.createElement("div",{id:"user-boxtext"},l.a.createElement("h2",null,"Delete User"),l.a.createElement("p",null,"You are about to delete this User Account with all files created by this user -"," ",l.a.createElement("span",{style:{fontWeight:"900",fontSize:"18px"}},e),l.a.createElement("br",null),"Are you sure you want to continue?")),l.a.createElement("div",{id:"delBox-buttons"},l.a.createElement("button",{id:"cancel",onClick:this.props.clDelUser},"CANCEL"),l.a.createElement("button",{id:"delete",onClick:this.delDocsAndUser},"DELETE"))))}}]),t}(l.a.Component)),D=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).GetUserById=function(){a.setState({loading:!0}),y.a.get("/api/v1/auth/"+a.props.match.params.id,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}}).then((function(e){var t=e.data;a.setState({usdata:t,loading:!1})})).catch((function(e){a.setState({loading:!1}),console.log(e+" Greska")}))},a.saveInputValue=function(e){a.setState(Object(b.a)({},e.target.id,e.target.value))},a.editUser=function(e){""===a.state.first_name||""===a.state.last_name||""===a.state.email||""===a.state.date_of_birth||""===a.state.telephone||""===a.state.country?alert("All fields must be filled out for successfully Edit-ed User data!"):y.a.put("/api/v1/auth/"+a.props.match.params.id,{first_name:a.state.first_name||a.state.usdata[0].first_name,last_name:a.state.last_name||a.state.usdata[0].last_name,email:a.state.email||a.state.usdata[0].email,date_of_birth:a.state.date_of_birth||a.state.usdata[0].date_of_birth,telephone:a.state.telephone||a.state.usdata[0].telephone,country:a.state.country||a.state.usdata[0].country,_modified:new Date},{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}}).then((function(e){console.log(e),a.setState({redirect:!0}),alert("This User is Edited successfully")})).catch((function(e){console.log(e),alert("All fields must be filled out to edit your User data succesfuly!")}))},a.delOn=function(){a.setState({deleteShow:!a.state.deleteShow})},a.delOf=function(){a.setState({deleteShow:!1})},a.state={usdata:[],first_name:null,last_name:null,email:null,date_of_birth:null,telephone:null,country:null,hidden:!0,redirect:!1,loading:!1,deleteShow:!1},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.GetUserById()}},{key:"render",value:function(){if(this.state.redirect)return l.a.createElement(c.a,{to:"/"});var e=this.props.component;return l.a.createElement(l.a.Fragment,null,l.a.createElement(e,{toggle:!1}),l.a.createElement("div",{id:"update-user"},l.a.createElement("div",{id:"user-main-container"},l.a.createElement("div",{id:"user-maintitle"},l.a.createElement("h1",null,"Edit User Data")),l.a.createElement("div",{className:"user-form-container"},l.a.createElement("div",{id:"user-fpage"},this.state.usdata.length>0?l.a.createElement("div",null,l.a.createElement("p",{className:"input-container"},l.a.createElement("label",{className:"eu-label"},"First Name"),l.a.createElement("input",{type:"text",className:"eu-textfield",id:"first_name",onChange:this.saveInputValue,defaultValue:this.state.usdata[0].first_name})),l.a.createElement("p",{className:"input-container"},l.a.createElement("label",{className:"eu-label"},"Last Name"),l.a.createElement("input",{type:"text",className:"eu-textfield",id:"last_name",onChange:this.saveInputValue,defaultValue:this.state.usdata[0].last_name})),l.a.createElement("p",{className:"input-container"},l.a.createElement("label",{className:"eu-label"},"E-mail"),l.a.createElement("input",{type:"text",className:"eu-textfield",id:"email",onChange:this.saveInputValue,defaultValue:this.state.usdata[0].email})),l.a.createElement("p",{className:"input-container"},l.a.createElement("label",{className:"eu-label"},"Date of Birth"),l.a.createElement("input",{type:"date",max:"2999-12-31",className:"eu-textfield",id:"date_of_birth",onChange:this.saveInputValue,defaultValue:this.state.usdata[0].date_of_birth.slice(0,10)})),l.a.createElement("p",{className:"input-container"},l.a.createElement("label",{className:"eu-label"},"Telephone"),l.a.createElement("input",{type:"text",className:"eu-textfield",id:"telephone",onChange:this.saveInputValue,defaultValue:this.state.usdata[0].telephone})),l.a.createElement("p",{className:"input-container"},l.a.createElement("label",{className:"eu-label"},"Country"),l.a.createElement("input",{type:"text",className:"eu-textfield",id:"country",onChange:this.saveInputValue,defaultValue:this.state.usdata[0].country})),l.a.createElement("div",{id:"btnsEu"},l.a.createElement("button",{type:"button",className:"eu-button",onClick:this.editUser},"SAVE"),l.a.createElement(o.b,{to:"/products",style:{width:"0px",height:"0px"}},l.a.createElement("button",{className:"eu-cl-button"},"CLOSE"))),l.a.createElement("button",{id:"delete-user-btn",onClick:this.delOn},"DELETE USER")):l.a.createElement("h2",null,"Loading...")),l.a.createElement("div",{id:"user-right-page"},l.a.createElement("p",{id:"user-simbol"},l.a.createElement("i",{className:"fas fa-plus-circle"})),l.a.createElement("p",{id:"user-title"},"You are editing an existing User data"))))),this.state.deleteShow?l.a.createElement(x,{clDelUser:this.delOf,userId:this.state.usdata[0]._id,fullName:"".concat(this.state.usdata[0].first_name," ").concat(this.state.usdata[0].last_name)}):null)}}]),t}(l.a.Component),w=a(37),O=a(16),P=(a(71),a(33),a(72),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).state={toggle:!0,rowIdToDelete:null},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){for(var e=this,t=this.props.ajdi,a=this.props.proba,n=null,s=0;s<a.length;s++)a[s]._id===t&&(n=a[s].productName);return console.log(n),l.a.createElement("div",{id:"back-screen"},l.a.createElement("div",{id:"delbox"},l.a.createElement("div",{id:"boxtext"},l.a.createElement("h2",null,"Delete Product"),l.a.createElement("p",null,"You are about to delete this product -"," ",l.a.createElement("span",{style:{fontWeight:"900",fontSize:"18px"}},n),l.a.createElement("br",null),"Are you sure you want to continue?")),l.a.createElement("div",{id:"delBox-buttons"},l.a.createElement("button",{id:"cancel",onClick:this.props.clBtn},"CANCEL"),l.a.createElement("button",{id:"delete",onClick:function(){return e.props.delRow(t)}},"DELETE"))))}}]),t}(l.a.Component)),j=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(d.a)(this,Object(m.a)(t).call(this))).state={},e}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement(l.a.Fragment,null,l.a.createElement("tr",null,l.a.createElement("td",null,this.props.productName),l.a.createElement("td",null,this.props.productType),l.a.createElement("td",null,this.props.productDescription),l.a.createElement("td",{className:this.props.pdR?"grR":"defR"},this.props.purchaseDate),l.a.createElement("td",{className:this.props.ppR?"grR":"defR"},this.props.productPrice),this.props.EdDel?l.a.createElement("td",null,l.a.createElement(o.b,{to:"/editproduct/"+this.props.productId},l.a.createElement("button",{id:"editbtn",className:"far fa-edit"})),l.a.createElement("button",{id:"delbtn",className:"far fa-trash-alt",onClick:function(){return e.props.del(e.props.productId)}})):l.a.createElement("td",null)))}}]),t}(l.a.Component),I=function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("tr",null,l.a.createElement("td",{colSpan:"6",style:{border:"2px solid red"}},l.a.createElement("span",{style:{textAlign:"center",color:"#09488b"}},l.a.createElement("h2",null,e.message)))))},C=function(e){for(var t=null,a=null,n=0;n<e.data.length;n++)t=e.data[n].purchaseDate.slice(5,7),a=Number(t);return e.dataLoading?l.a.createElement(I,{message:"Loading..."}):0!==e.data.length?e.data.map((function(t){return l.a.createElement(j,{key:t._id,productId:t._id,productName:t.productName,productType:t.productType,productDescription:t.productDescription,purchaseDate:t.purchaseDate.slice(0,10),productPrice:t.productPrice,EdDel:e.showEdDel,del:e.delBtnOpen,ppR:e.pp,pdR:e.pd})})):e.mesec!==a?l.a.createElement(I,{message:"No data was found for this request - Year/Month, Please choose another one!"}):"Years"===e.godina?l.a.createElement(I,{message:"No data was found for this User, Please create NEW PRODUCT!"}):void 0},_=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).delBoxOpen=function(e){a.setState({show:!a.state.show,rowIdToDelete:e})},a.closeBt=function(){console.log("Function called"),a.setState({show:!1})},a.deleteRow=function(e){y.a.delete("/api/v1/products/"+e,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}}).then((function(e){a.setState({show:!1}),console.log("Deleted: ",e),a.props.fgetProducts()})).catch((function(e){console.log(e+" Greska")}))},a.state={udata:[],rowIdToDelete:null,xmm:a.props.sortS},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("table",{className:this.props.showEdDel?"pmaintable":"emaintable"},l.a.createElement("thead",{className:"products-table-head"},l.a.createElement("tr",null,l.a.createElement("th",null,"Product Name"),l.a.createElement("th",null,"Product Type"),l.a.createElement("th",null,"Product Description"),l.a.createElement("th",{className:this.props.pd?"gr":"def"},"Purchase Date"),l.a.createElement("th",{className:this.props.pp?"gr":"def"},"Product Price"),this.props.showEdDel?l.a.createElement("th",null,"Edit / Delete"):l.a.createElement("th",null))),l.a.createElement("tbody",{className:"products-table-body"},l.a.createElement(C,Object.assign({},this.props,{delBtnOpen:this.delBoxOpen})))),this.state.show&&l.a.createElement(P,{ajdi:this.state.rowIdToDelete,clBtn:this.closeBt,delRow:this.deleteRow,proba:this.props.data}))}}]),t}(l.a.Component),V=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(d.a)(this,Object(m.a)(t).call(this))).getAllProductsInExp=function(){e.setState({loading:!0}),y.a.get("/api/v1/products/?sort=purchaseDate:desc",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}}).then((function(t){e.setState({unidata:t.data,data:t.data,loading:!1})})).catch((function(t){e.setState({loading:!1}),console.log(t)}))},e.showYearlyBtn=function(t){e.getAllProductsInExp(),e.setState({toggle:!0,yearValue:"Years"})},e.selectYValue=function(t){console.log("YEAR VALUE IS SELECTED");var a=Object(O.a)(e);e.setState({yearValue:t.target.value},(function(){console.log("SortProductsBy CB"),a.filterByYear()})),console.log(t.target.value)},e.filterByYear=function(){var t=e.state.yearValue;console.log("onlyYear at Years is SELECTED -",t);var a=new Date("".concat(t,"-01-01 00:00:00.000")).getTime();console.log("Choose Year - dateFrom",a);var n=new Date("".concat(t,"-12-31 23:59:59.000")).getTime();console.log("Choose Year - dateToOO",n),"Years"===t?e.getAllProductsInExp():!0===e.state.toggle&&""!==t&&"Years"!==t&&(e.setState({loading:!0}),y.a.get("/api/v1/products/?purcdate_from=\n          ".concat(a,"&purcdate_to=").concat(n,"&sort=purchaseDate:desc"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}}).then((function(t){console.log("In TIMEOUT"),e.setState({data:t.data,loading:!1}),console.log(e.res.data)})).catch((function(t){e.setState({loading:!1}),console.log(t,"ERROR on Yarly at Expenses component")})))},e.showMonthlyBtn=function(){e.getAllProductsInExp(),e.setState({toggle:!1,yearValue:"Years",monthValue:"Months"})},e.selectMValue=function(t,a){console.log("MONTH VALUE IS SELECTED");var n=Object(O.a)(e);a?(e.setState({monthValue:t.target.value},(function(){console.log("SortProductsBy CB"),n.filterByMonthAndYear()})),console.log(t.target.value)):e.setState({yearValue:t.target.value},(function(){console.log("SortProductsBy CB"),n.filterByMonthAndYear()})),console.log(t.target.value)},e.yearToYear=function(){var t=Number(e.state.yearValue),a=new Date("".concat(t,"-01-01 00:00:00.000")).getTime(),n=new Date("".concat(t,"-12-31 23:59:59.000")).getTime();e.setState({loading:!0}),y.a.get("/api/v1/products/?purcdate_from=\n      ".concat(a,"&purcdate_to=").concat(n,"&sort=purchaseDate:desc"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}}).then((function(t){console.log("In TIMEOUT"),e.setState({data:t.data,loading:!1}),console.log(e.res.data)})).catch((function(t){e.setState({loading:!1}),console.log(t,"ERROR on Yarly at Expenses component")}))},e.filterByMonthAndYear=function(){var t=Number(e.state.monthValue),a=Number(e.state.yearValue),n=new Date("".concat(a,"-12-01 00:00:00.000")).getTime();console.log("decCurrY",n);var l=new Date("".concat(a+1,"-01-01 00:00:00.000")).getTime();console.log(l),12===t&&(e.setState({loading:!0}),console.log("Getting data"),y.a.get("/api/v1/products/?purcdate_from=\n          ".concat(n,"&purcdate_to=").concat(l,"&sort=purchaseDate:desc"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}}).then((function(t){e.setState({data:t.data,loading:!1})})).catch((function(t){e.setState({loading:!1}),console.log(t,"ERROR at Expenses component")})));var s=new Date("".concat(a,"-").concat(t," 00:00:00.000")).getTime();console.log("dateFromYM",s);var r=new Date("".concat(a,"-").concat(t+1," 00:00:00.000")).getTime();console.log("dateToYM",r),0===t&&"Years"!==e.state.yearValue&&e.setState({monthValue:"Months"},(function(){e.yearToYear()})),0!==t&&"Months"!==e.state.monthValue&&"Years"===e.state.yearValue?(alert("Please select year too, to complete the request"),e.getAllProductsInExp()):"Years"===e.state.yearValue?e.getAllProductsInExp():!1===e.state.toggle&&0!==e.state.monthValue&&"Months"!==e.state.monthValue&&"Years"!==e.state.yearValue?(e.setState({loading:!0}),y.a.get("/api/v1/products/?purcdate_from=\n          ".concat(s,"&purcdate_to=").concat(r,"&sort=purchaseDate:desc"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}}).then((function(t){e.setState({data:t.data,loading:!1}),console.log(e.state.data)})).catch((function(t){e.setState({loading:!1}),console.log(t,"ERROR at Expenses component")}))):!1===e.state.toggle&&"Years"!==e.state.yearValue&&"Months"===e.state.monthValue&&e.yearToYear()},e.state={toggle:!1,data:[],unidata:[],yearValue:"Years",monthValue:"Months",loading:!1,value:""},e}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.getAllProductsInExp()}},{key:"render",value:function(){var e=this;console.log(this.state.monthValue),console.log(this.state.yearValue);for(var t=(new Date).getFullYear(),a=[],n=1998;n<=t;n++)a.push(n);a.reverse(),a.unshift("Years");var s=this.state.unidata,r=[];if(s.length>0)for(var o=0;o<s.length;o++)r.push(s[o].purchaseDate.slice(0,4));else console.log("Loading... ");for(var c=Object(w.a)(new Set(r)),i=0,u=0;u<this.state.data.length;u++)i+=this.state.data[u].productPrice;var d=this.props.component;return l.a.createElement(l.a.Fragment,null,l.a.createElement(d,{toggle:!0}),l.a.createElement("div",{id:"expenses"},l.a.createElement("div",{className:"exmain-container"},l.a.createElement("div",{id:"emaintitle"},l.a.createElement("h1",null,"Expenses")),l.a.createElement("div",{id:"experiod"},l.a.createElement("div",{className:"ex-period-btns"},l.a.createElement("button",{type:"button",className:this.state.toggle?"mY-btn":"mY-btn active-mY-btn",onClick:this.showMonthlyBtn},"MONTHLY"),l.a.createElement("button",{type:"button",className:this.state.toggle?"mY-btn active-mY-btn":"mY-btn",onClick:this.showYearlyBtn},"YEARLY")),this.state.toggle?l.a.createElement("div",{id:"Yearly-cont"},l.a.createElement("label",null,"Choose Year"),l.a.createElement("select",{id:"mySelectYears",className:"ex-select-year",onChange:this.selectYValue,value:this.state.yearValue},l.a.createElement("option",{value:"Years"},"Years"),c.map((function(e,t){return l.a.createElement("option",{key:e,value:e},e)})))):l.a.createElement("div",{id:"Monthly-cont"},l.a.createElement("div",{id:"ch-month"},l.a.createElement("label",null,"Choose Month"),l.a.createElement("select",{id:"mySelectMonths",className:"ex-select",onChange:function(t){return e.selectMValue(t,!0)},value:this.state.monthValue},["Months","January","February","March","April","May","June","July","August","September","October","November","December"].map((function(e,t){return l.a.createElement("option",{key:e,value:t},e)})))),l.a.createElement("div",{id:"ch-year"},l.a.createElement("label",null,"Choose Year"),l.a.createElement("select",{id:"mySelectYears",className:"ex-select",onChange:function(t){return e.selectMValue(t,!1)},value:this.state.yearValue},l.a.createElement("option",{value:"Years"},"Years"),c.map((function(e,t){return l.a.createElement("option",{key:e,value:e},e)})))))),l.a.createElement(_,{dataLoading:this.state.loading,data:this.state.data,mesec:Number(this.state.monthValue),godina:this.state.yearValue})),l.a.createElement("div",{id:"saldo"},l.a.createElement("h2",null,l.a.createElement("span",{id:"wh"},"Total spent:")," ",i," den."))))}}]),t}(l.a.Component),T=(a(73),function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(d.a)(this,Object(m.a)(t).call(this))).getProducts=function(){e.setState({loading:!0}),y.a.get("/api/v1/products/?sort=purchaseDate:desc",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}}).then((function(t){e.setState({data:t.data,loading:!1})})).catch((function(t){e.setState({loading:!1}),console.log(t)}))},e.getSortedProducts=function(){e.setState({loading:!0}),y.a.get("/api/v1/products/?sort=".concat(e.state.sort),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}}).then((function(t){e.setState({data:t.data,loading:!1})})).catch((function(t){e.setState({loading:!1}),console.log(t,"ERROR at Products component")}))},e.SortProductsBy=function(t){var a=Object(O.a)(e);e.setState({sort:t.target.value},(function(){"purchaseDate:asc"===e.state.sort||"purchaseDate:desc"===e.state.sort?e.setState({pD:!0,pP:!1},(function(){})):"productPrice:asc"!==e.state.sort&&"productPrice:desc"!==e.state.sort||e.setState({pP:!0,pD:!1}),a.getSortedProducts()}))},e.state={showEditDeleteBtns:!0,data:[],sort:"",didUpd:!1,loading:!1,povik:null,id:!1,pD:!1,pP:!1},e}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){console.log("Table data did mount"),this.getProducts()}},{key:"render",value:function(){console.log("Component in render");var e=this.props.component;return l.a.createElement(l.a.Fragment,null,l.a.createElement(e,{toggle:!1}),l.a.createElement("div",{id:"products"},l.a.createElement("div",{className:"prmain-container"},l.a.createElement("div",{id:"pmaintitle"},l.a.createElement("div",{className:"tit"},l.a.createElement("h1",null,"Products")),l.a.createElement("div",{id:"filter"},l.a.createElement("h2",null,"Sort by:"),l.a.createElement("select",{onChange:this.SortProductsBy},l.a.createElement("option",{id:"Lp",value:"purchaseDate:desc"},"Latest Purchase"),l.a.createElement("option",{id:"Fp",value:"purchaseDate:asc"},"First Purchase"),l.a.createElement("option",{id:"Hp",value:"productPrice:desc"},"Highest Price"),l.a.createElement("option",{id:"Lp",value:"productPrice:asc"},"Lowest Price")))),l.a.createElement("div",{id:"mainonebtn"},l.a.createElement(o.b,{to:"/newproduct",style:{textDecoration:"none",color:"#fff"}},l.a.createElement("button",{id:"btnnewproduct"},"NEW PRODUCT"))),l.a.createElement(_,{dataLoading:this.state.loading,data:this.state.data,showEdDel:this.state.showEditDeleteBtns,fgetProducts:this.getProducts,pd:this.state.pD,pp:this.state.pP}))))}}]),t}(l.a.Component)),Y=(a(74),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).saveInputValue=function(e){a.setState(Object(b.a)({},e.target.id,e.target.value))},a.createProduct=function(){null===a.state.productName||null===a.state.productType||null===a.state.productDescription||null===a.state.purchaseDate||null===a.state.productPrice?alert("All fields must be filled out for New Product to be created successfully!"):y.a.post("/api/v1/products/",{productName:a.state.productName,productType:a.state.productType,productDescription:a.state.productDescription,purchaseDate:a.state.purchaseDate,productPrice:a.state.productPrice,_created:new Date},{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}}).then((function(e){console.log("NEW PRODUCT IS CREATED"),a.setState({redirect:!0}),alert("New Product is created successfully")})).catch((function(e){console.log(e)}))},a.state={productName:null,productType:null,productDescription:null,purchaseDate:null,productPrice:null,redirect:!1},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){if(this.state.redirect)return l.a.createElement(c.a,{to:"/products"});var e=this.props.component;return l.a.createElement(l.a.Fragment,null,l.a.createElement(e,{toggle:!1}),l.a.createElement("div",{id:"newproducts"},l.a.createElement("div",{id:"npmain-container"},l.a.createElement("div",{id:"npmaintitle"},l.a.createElement("h1",null,"New Product")),l.a.createElement("div",{className:"np-form-container"},l.a.createElement("div",{id:"np-fpage"},l.a.createElement("form",null,l.a.createElement("p",{className:"input-container"},l.a.createElement("label",{className:"nplabel"},"Product Name"),l.a.createElement("input",{type:"text",className:"nptextfield",id:"productName",onChange:this.saveInputValue})),l.a.createElement("p",{className:"input-container"},l.a.createElement("label",{className:"nplabel"},"Product Type"),l.a.createElement("input",{type:"text",className:"nptextfield",id:"productType",onChange:this.saveInputValue})),l.a.createElement("p",{className:"input-container"},l.a.createElement("label",{className:"nplabel"},"Product Description"),l.a.createElement("input",{type:"text",className:"nptextfield",id:"productDescription",onChange:this.saveInputValue})),l.a.createElement("p",{className:"input-container"},l.a.createElement("label",{className:"nplabel"},"Purchase Date"),l.a.createElement("input",{type:"date",max:"2999-12-31",className:"nptextfield",id:"purchaseDate",onChange:this.saveInputValue})),l.a.createElement("p",{className:"input-container"},l.a.createElement("label",{className:"nplabel"},"Product Price"),l.a.createElement("input",{type:"text",className:"nptextfield",id:"productPrice",onChange:this.saveInputValue})),l.a.createElement("div",{id:"btnsNp"},l.a.createElement("button",{type:"button",className:"cp-button",onClick:this.createProduct},"CREATE PRODUCT"),l.a.createElement(o.b,{to:"products",style:{width:"0px",height:"0px"}},l.a.createElement("button",{className:"cl-button"},"CLOSE"))))),l.a.createElement("div",{id:"np-right-page"},l.a.createElement("p",{id:"simbol"},l.a.createElement("i",{className:"fas fa-plus-circle"})),l.a.createElement("p",{id:"title"},"You are creating a new product"))))))}}]),t}(l.a.Component)),B=(a(75),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).GetProductById=function(){a.setState({loading:!0}),y.a.get("/api/v1/products/"+a.props.match.params.id,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}}).then((function(e){var t=e.data;console.log(t),a.setState({edata:t,loading:!1},(function(){console.log("Product data - "+a.state.edata[0]),console.log("Existing generated _id - "+a.state.edata[0]._id)}))})).catch((function(e){a.setState({loading:!1}),console.log(e+" Greska")}))},a.saveInputValue=function(e){a.setState(Object(b.a)({},e.target.id,e.target.value)),console.log(e.target.id),console.log(e.target.value)},a.editProduct=function(e){""===a.state.productName||""===a.state.productType||""===a.state.productDescription||""===a.state.purchaseDate||0===a.state.productPrice?(alert("All fields must be filled out for successfully Edit-ed Product!"),e.preventDefault()):y.a.put("/api/v1/products/"+a.props.match.params.id,{productName:a.state.productName||a.state.edata[0].productName,productType:a.state.productType||a.state.edata[0].productType,productDescription:a.state.productDescription||a.state.edata[0].productDescription,purchaseDate:a.state.purchaseDate||a.state.edata[0].purchaseDate,productPrice:a.state.productPrice||a.state.edata[0].productPrice,_modified:new Date},{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}}).then((function(e){console.log(e),a.setState({redirect:!0}),alert("This Product is Edited successfully")})).catch((function(e){console.log(e),alert("All fields must be filled out to edit your product succesfuly!")}))},a.state={edata:[],productName:null,productType:null,productDescription:null,purchaseDate:null,productPrice:null,redirect:!1,loading:!1},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.GetProductById()}},{key:"render",value:function(){if(this.state.redirect)return l.a.createElement(c.a,{to:"/products"});var e=this.props.component;return l.a.createElement(l.a.Fragment,null,l.a.createElement(e,{toggle:!1}),l.a.createElement("div",{id:"editproducts"},l.a.createElement("div",{id:"epmain-container"},l.a.createElement("div",{id:"epmaintitle"},l.a.createElement("h1",null,"Edit Product")),l.a.createElement("div",{className:"epform-container"},l.a.createElement("div",{id:"epfpage"},this.state.edata.length>0?l.a.createElement("form",null,l.a.createElement("p",{className:"input-container"},l.a.createElement("label",{className:"eplabel"},"Product Name"),l.a.createElement("input",{type:"text",className:"eptextfield",id:"productName",onChange:this.saveInputValue,defaultValue:this.state.edata[0].productName})),l.a.createElement("p",{className:"input-container"},l.a.createElement("label",{className:"eplabel"},"Product Type"),l.a.createElement("input",{type:"text",className:"eptextfield",id:"productType",onChange:this.saveInputValue,defaultValue:this.state.edata[0].productType})),l.a.createElement("p",{className:"input-container"},l.a.createElement("label",{className:"eplabel"},"Product Description"),l.a.createElement("input",{type:"text",className:"eptextfield",id:"productDescription",onChange:this.saveInputValue,defaultValue:this.state.edata[0].productDescription})),l.a.createElement("p",{className:"input-container"},l.a.createElement("label",{className:"eplabel"},"Purchase Date"),l.a.createElement("input",{type:"date",max:"2999-12-31",className:"eptextfield",id:"purchaseDate",onChange:this.saveInputValue,defaultValue:this.state.edata[0].purchaseDate.slice(0,10)})),l.a.createElement("p",{className:"input-container"},l.a.createElement("label",{className:"eplabel"},"Product Price"),l.a.createElement("input",{type:"text",className:"eptextfield",id:"productPrice",onChange:this.saveInputValue,defaultValue:this.state.edata[0].productPrice})),l.a.createElement("div",{id:"btnsEp"},l.a.createElement("div",null,l.a.createElement("button",{type:"button",className:"eps-button",onClick:this.editProduct},"SAVE")),l.a.createElement("div",null,l.a.createElement(o.b,{to:"/products",style:{width:"0px",height:"0px"}},l.a.createElement("button",{className:"epcl-button"},"CLOSE"))))):l.a.createElement("h2",null,"Loading...")),l.a.createElement("div",{id:"ep-right-page"},l.a.createElement("p",{id:"ep-simbol"},l.a.createElement("i",{className:"fas fa-plus-circle"})),l.a.createElement("p",{id:"ep-title"},"You are editing an existing product"))))))}}]),t}(l.a.Component)),k=function(){return l.a.createElement(o.a,null,l.a.createElement(c.d,null,l.a.createElement(c.b,{exact:!0,path:"/",component:N}),l.a.createElement(c.b,{exact:!0,path:"/register",component:S}),l.a.createElement(c.b,{exact:!0,path:"/expenses",render:function(){return l.a.createElement(V,{component:f})}}),l.a.createElement(c.b,{exact:!0,path:"/products",render:function(){return l.a.createElement(T,{component:f})}}),l.a.createElement(c.b,{exact:!0,path:"/newproduct",render:function(){return l.a.createElement(Y,{component:f})}}),l.a.createElement(c.b,{exact:!0,path:"/editproduct/:id",render:function(e){return l.a.createElement(B,Object.assign({},e,{component:f}))}}),l.a.createElement(c.b,{exact:!0,path:"/edituser/:id",render:function(e){return l.a.createElement(D,Object.assign({},e,{component:f}))}})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},9:function(e,t,a){}},[[38,1,2]]]);
//# sourceMappingURL=main.087bf069.chunk.js.map